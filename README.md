## ASHRAE - Great Energy Predictor III èƒ½è€—é¢„æµ‹
è¿™æ˜¯ä¸€ä»½åŸºäºèµµè€å¸ˆæ•™æˆçš„ æ¨¡å¼è¯†åˆ« è¯¾ç¨‹çš„ ä½œä¸š
ä½œä¸šçš„å¯¹è±¡æ˜¯ kaggle :[ASHRAE - Great Energy Predictor III](https://www.kaggle.com/c/ashrae-energy-prediction/overview)
æ ¸å¿ƒç®—æ³•ä¸ºå†³ç­–æ ‘ï¼Œæ‰€ç”¨ä¼˜åŒ–æ¡†æ¶ä¸ºLightGBMã€‚æ¨¡å‹æ²¡æœ‰å°±æ—¶é—´åºåˆ—ï¼Œç‰¹å¾ç­‰æ–¹å‘è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥åªæ˜¯å¾—ä¸€ä¸ªåŸºç¡€åˆ†ã€‚
æ‰€å¾—æˆç»©å¦‚ä¸‹
&emsp;[è¿™æ˜¯æˆ‘çš„kaggle:ANAN6727](https://www.kaggle.com/anan6727903376998/competitions)
    ![score](https://raw.githubusercontent.com/anjie6727/hello-github/master/score.png)
    ![rank](https://raw.githubusercontent.com/anjie6727/hello-github/master/rank.png)
score:1.1 rank:1422
### 1 ä»‹ç»
é—®é¢˜æè¿°ï¼šå¼€å‘ç²¾ç¡®çš„ä¸ºå»ºç­‘ç‰©è®¡é‡èƒ½æºä½¿ç”¨æƒ…å†µçš„æ¨¡å‹ã€‚èƒ½æºç±»å‹æœ‰ï¼šå†·æ°´è¡¨ï¼Œç”µè¡¨ï¼Œçƒ­æ°´è¡¨å’Œè’¸æ±½è¡¨ã€‚æ•°æ®é›†æ¥è‡ªä¸‰å¹´æ—¶é—´å†…è¶…è¿‡1,000åº§å»ºç­‘ç‰©ã€‚é€šè¿‡å¼€å‘çš„èƒ½æºæ¨¡å‹å¯ä»¥å¯¹å»ºç­‘ç‰©çš„èŠ‚èƒ½æŠ•èµ„çš„æ•ˆæœè¿›è¡Œè¯„ä¼°ï¼Œä»¥æ­¤è¯´æœå¤§å‹æŠ•èµ„è€…å’Œé‡‘èæœºæ„å°†æ›´å€¾å‘äºåœ¨è¿™ä¸€é¢†åŸŸè¿›è¡ŒæŠ•èµ„ï¼Œä»¥æé«˜å»ºç­‘æ•ˆç‡ã€‚
æ•°æ®æè¿°:  æ•°æ®åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š\
train.csv\
	&emsp;building_id - å…ƒæ•°æ®çš„é”®å€¼\
	&emsp;meter - è®¡é‡è¡¨çš„ç±»å‹ {0: ç”µè¡¨, 1: å†·æ°´, 2: è’¸æ±½, 3: çƒ­æ°´}. ä¸æ˜¯æ‰€æœ‰å»ºç­‘ç‰©éƒ½å…·å¤‡æ‰€æœ‰ç±»å‹çš„è®¡é‡è¡¨.\
	&emsp;timestamp - æµ‹é‡å€¼è®°å½•çš„æ—¶é—´\
	&emsp;meter_reading - æ¨¡å‹çš„ç›®æ ‡å˜é‡. èƒ½è€—å•ä½ kWh. è¿™æ˜¯å¸¦è¯¯å·®çš„çœŸå®æµ‹é‡å€¼, è¿™ä¼šå¢åŠ æ¨¡å‹æœ¬èº«çš„è¯¯å·®. æ³¨æ„:  0 ç”µè¡¨è¯»æ•°å•ä½ä¸ºkBTUï¼ˆåƒç£…çº¯æ°´ä¸Šå‡ä¸€åæ°åº¦æ‰€éœ€çš„èƒ½é‡ï¼‰.\
building_meta.csv\
	&emsp;site_id - å¤©æ°”æ•°æ®çš„é”®å€¼.\
	&emsp;building_id - å¯¹åº” train.csv ä¸­çš„ building_id\
	&emsp;primary_use - åŸºäºEnergyStaræ ‡å‡†å®šä¹‰çš„å»ºç­‘ä¸»è¦æ´»åŠ¨ç±»åˆ«\
	&emsp;square_feet - å¹³æ–¹è‹±å°º\
	&emsp;year_built - å»ºç­‘å¹´é™\
	&emsp;floor_count - å»ºç­‘æ¥¼å±‚\
weather_[train/test].csv åˆ†ä¸ºtrainå’Œtestä¸¤ä¸ªæ–‡ä»¶\
	&emsp;site_id - è·ç¦»å»ºç­‘ç‰©æœ€è¿‘æ°”è±¡ç«™çš„ç¼–ç \
	&emsp;air_temperature - ç©ºæ°”æ¸©åº¦ï¼Œæ‘„æ°åº¦\
	&emsp;cloud_coverage - äº‘é®åº¦\
	&emsp;dew_temperature - æ¹¿æ¸©ï¼Œæ‘„æ°åº¦\
	&emsp;precip_depth_1_hr - é™æ°´ï¼Œæ¯«ç±³\
	&emsp;sea_level_pressure - æµ·å¹³é¢æ°”å‹ æ¯«ç±³æ±æŸ±/ç™¾å¸•\
	&emsp;wind_direction - é£å‘ (0-360)\
	&emsp;wind_speed - é£é€Ÿ ç±³æ¯ç§’\
test.csv\
test.csv æ²¡æœ‰ç‰¹å¾æ•°æ®;å®ƒå°±æ˜¯è¡¨å¾é‚£äº›æ•°æ®æ˜¯å±äºæµ‹è¯•é›†çš„.\
	&emsp;row_id - è¡Œå·\
	&emsp;building_id - ä¹‹å‰æ–‡ä»¶ä¸­ç»™å®šçš„Building id\
	&emsp;meter - è®¡é‡è¡¨ç±»å‹\
	&emsp;timestamp - æ—¶é—´æˆ³
### 2 ç‰¹å¾
ç”±é—®é¢˜æè¿°å¯ä»¥å¾—åˆ°è¿™æ˜¯ä¸€ä¸ªRegressioné—®é¢˜ï¼Œæ•…é€‰æ‹©å›å½’å†³ç­–æ ‘æ¥è§£å†³é—®é¢˜ã€‚\
é’ˆå¯¹å¤§é‡çš„æ•°æ®ï¼Œå¯¹ç‰¹å¾è¿›è¡Œç­›é€‰ã€‚å·²é€‰æ‹©å‡ºå¯¹é—®é¢˜æœ‰æ•ˆï¼ŒåŒæ—¶åˆæ–¹ä¾¿è§£å†³çš„ç‰¹å¾ã€‚ä¸»è¦å¯¹æ—¶é—´ç‰¹å¾è¿›è¡Œç­›é€‰ï¼Œå¤„ç†ï¼Œæå–å‡ºå‡ ä¸ªå¯¹é—®é¢˜å¯èƒ½æœ‰æ•ˆçš„æ—¶é—´ç‰¹å¾ï¼Œå¦‚ï¼Œå·¥ä½œæ—¶é—´ç­‰ã€‚\
å¢åŠ çš„ç‰¹å¾æœ‰ :\
&emsp;hourï¼šæ—¶é—´æˆ³ä¸­çš„å°æ—¶\
&emsp;weekdayï¼šæ—¶é—´æˆ³æ˜¯å¦åœ¨å‘¨æœ«\
&emsp;is holiday: æ—¶é—´æˆ³æ˜¯å¦ä¸ºå‡æ—¥\
ä¸äºˆè€ƒè™‘çš„ç‰¹å¾:\
&emsp;timestamp: å®Œæ•´æ—¶é—´æˆ³æ•°æ®\
&emsp;sea_level_pressure:å¤©æ°”å¤§æ°”å‹æ•°æ®\
&emsp;wind_directionï¼šé£å‘æ•°æ®\
&emsp;wind_speedï¼šé£åŠ›æ•°æ®
### 3 å›å½’
&emsp;LightGBMæ¡†æ¶æ˜¯åŸºäºæ ‘çš„æ¢¯åº¦å¢å¼ºæ¡†æ¶ã€‚å®ƒè¢«è®¾è®¡ä¸ºåˆ†å¸ƒå¼ä¸”é«˜æ•ˆçš„ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š
#### ä¼˜åŒ–é€Ÿåº¦å’Œå†…å­˜ä½¿ç”¨ç‡
&emsp;LightGBMä½¿ç”¨åŸºäºç›´æ–¹å›¾çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•å°†è¿ç»­ç‰¹å¾ï¼ˆå±æ€§ï¼‰å€¼å­˜å‚¨åˆ°ç¦»æ•£çš„æ¡¶ä¸­ã€‚è¿™æ ·å¯ä»¥åŠ å¿«è®­ç»ƒé€Ÿåº¦å¹¶å‡å°‘å†…å­˜ä½¿ç”¨é‡ã€‚åŸºäºç›´æ–¹å›¾çš„ç®—æ³•çš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š\
&emsp;&emsp;è®¡ç®—æˆæœ¬ï¼šé™ä½äº†è®¡ç®—æ¯æ¬¡èŠ‚ç‚¹åˆ†å‰²çš„å¢ç›Šçš„æˆæœ¬\
&emsp;&emsp;æ—¶é—´å¤æ‚åº¦ï¼šåŸºäºé¢„æ’åºçš„ç®—æ³•å…·æœ‰æ—¶é—´å¤æ‚æ€§ O(æ•°æ®)ã€‚è®¡ç®—ç›´æ–¹å›¾æœ¬èº«å…·æœ‰æ—¶é—´å¤æ‚æ€§ä¸ºO(æ•°æ®)ï¼Œä½†è¿™ä»…æ¶‰åŠå¿«é€Ÿæ±‚å’Œæ“ä½œã€‚ä¸€æ—¦æ„å»ºå¥½äº†ç‰¹å¾çš„ç›´æ–¹å›¾ï¼ŒåŸºäºç›´æ–¹å›¾çš„ç®—æ³•å°±å…·æœ‰æ—¶é—´å¤æ‚åº¦O(æ¡¶)ï¼Œå¹¶ä¸”æ¡¶çš„è§„æ¨¡è¿œå°äºæ•°æ®çš„è§„æ¨¡ã€‚\
&emsp;&emsp;ç›´æ–¹å›¾å¯ä»¥ç›´æ¥ä½œå·®ï¼šä½¿ç”¨ç›´æ–¹å›¾å‡æ³•å¯ä»¥è¿›ä¸€æ­¥æé«˜é€Ÿåº¦ã€‚è¦åœ¨äºŒå‰æ ‘ä¸­è·å¾—å¶å­çš„ç›´æ–¹å›¾ï¼Œä½¿ç”¨å…¶çˆ¶çº§å’Œé‚»å±…çš„ç›´æ–¹å›¾å‡æ³•å³å¯ã€‚å› æ­¤ï¼Œå®ƒåªéœ€è¦ä¸ºä¸€ä¸ªå¶å­ï¼ˆæ•°æ®è§„æ¨¡æ¯”å®ƒçš„é‚»å±…å°ï¼‰æ„å»ºç›´æ–¹å›¾ã€‚ç„¶åï¼Œå¯ä»¥é€šè¿‡ç›´æ–¹å›¾å‡æ³•ä»¥è¾ƒå°çš„æˆæœ¬è·å¾—é‚»å±…çš„ç›´æ–¹å›¾ã€‚\
&emsp;&emsp;å‡å°‘å†…å­˜ä½¿ç”¨ï¼šç”¨ç¦»æ•£çš„æ¡¶æ›¿æ¢è¿ç»­çš„å€¼ã€‚å¦‚æœæ¡¶çš„è§„æ¨¡è¾ƒå°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¾ƒå°çš„æ•°æ®ç±»å‹ï¼ˆä¾‹å¦‚uint8_tï¼‰æ¥å­˜å‚¨è®­ç»ƒæ•°æ®ã€‚è€Œä¸”ï¼Œæ— éœ€å­˜å‚¨å…¶ä»–ä¿¡æ¯å³å¯å¯¹ç‰¹å¾å€¼è¿›è¡Œé¢„æ’åºã€‚
#### ç²¾åº¦ä¼˜åŒ–
##### é€å¶ï¼ˆæœ€ä½³ä¼˜å…ˆï¼‰ç”Ÿé•¿
##### åˆ†ç±»ç‰¹å¾çš„æœ€ä½³åˆ†å‰²
#### ç¨€ç–ä¼˜åŒ–
&emsp;åªéœ€è¦æ„é€ ç¨€ç–ç‰¹å¾çš„ç›´æ–¹å›¾
```
params = {
    "objective": "regression",
    "boosting": "gbdt",
    "num_leaves": 40,
    "learning_rate": 0.05,
    "feature_fraction": 0.85,
    "reg_lambda": 2,
    "metric": "rmse"
}
model = lgb.train(params, train_set, num_boost_round=1000, valid_sets=list, verbose_eval=200, early_stopping_rounds=200)
```
### 4 è¯„ä»·ä¸å±•æœ›

### 5 å‚è€ƒ
[ğŸ”Œâš¡ASHRAE -Start Here: A GENTLE Introduction](https://www.kaggle.com/caesarlupum/ashrae-start-here-a-gentle-introduction)\
[ASHRAE: Half and Half](https://www.kaggle.com/rohanrao/ashrae-half-and-half)\
[LightGBM](https://lightgbm.readthedocs.io/en/latest/Features.html)

